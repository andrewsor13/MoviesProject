{"version":3,"file":"static/js/241.1643c29b.chunk.js","mappings":"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","sources":["webpack://MoviesProject/./src/components/Profile/Profile.module.css?b512","components/Profile/Profile.jsx","pages/ProfilePage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Profile_container__-cCQ9\",\"profileContainer\":\"Profile_profileContainer__CUA1O\",\"dataContainer\":\"Profile_dataContainer__umv-m\",\"dataPassContainer\":\"Profile_dataPassContainer__eEumd\",\"editButton\":\"Profile_editButton__gWCwN\",\"changePasswordButton\":\"Profile_changePasswordButton__B8N3B\",\"form\":\"Profile_form__tDdWd\",\"input\":\"Profile_input__MxRb6\",\"passInput\":\"Profile_passInput__xuPwF\",\"text\":\"Profile_text__tnq0+\",\"nicknameAnimation\":\"Profile_nicknameAnimation__tIOTR\",\"fadeInNickname\":\"Profile_fadeInNickname__3x4+Y\",\"saveButton\":\"Profile_saveButton__5-BXx\",\"overflowContainer\":\"Profile_overflowContainer__WZQ7m\",\"passwordContainer\":\"Profile_passwordContainer__cAdV0\",\"passwordAnimation\":\"Profile_passwordAnimation__nXHpy\",\"fadeInPassword\":\"Profile_fadeInPassword__ZP1HV\",\"passwordForm\":\"Profile_passwordForm__FavEe\",\"passCheckBlock\":\"Profile_passCheckBlock__A2GoU\",\"passCheck\":\"Profile_passCheck__-4fmj\",\"valid\":\"Profile_valid__PQy1x\"};","import React, { useState } from 'react';\nimport styles from './Profile.module.css';\nimport { useAuth } from 'Store/AuthContext';\nimport {\n  updateProfile,\n  updatePassword,\n  reauthenticateWithCredential,\n  EmailAuthProvider,\n} from 'firebase/auth';\nimport { auth } from '../../firebaseConfig';\nimport { LiaEdit } from 'react-icons/lia';\nimport Notiflix from 'notiflix';\nimport { FaCheckCircle } from 'react-icons/fa';\n\nexport default function Profile() {\n  const { user } = useAuth();\n  const [nickName, setNickName] = useState(user.displayName);\n  const [oldPassword, setOldPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [nickNameCLick, setNickNameClick] = useState(false);\n  const [passwordClick, setPasswordClick] = useState(false);\n  const [check, setCheck] = useState({\n    hasUpperCase: false,\n    hasNumber: false,\n    isLongEnough: false,\n    hasSymbol: false,\n  });\n\n  const handleNickNameInput = e => {\n    setNickName(e.target.value);\n  };\n\n  const handleOldPasswordInput = e => {\n    setOldPassword(e.target.value);\n  };\n\n  const handleNewPasswordInput = e => {\n    setNewPassword(e.target.value);\n    setCheck({\n      hasUpperCase: /[A-Z]/.test(e.target.value),\n      hasNumber: /\\d/.test(e.target.value),\n      hasSymbol: /[!@#$%^&*]/.test(e.target.value),\n      isLongEnough: e.target.value.length >= 8,\n    });\n  };\n\n  const handleNickNameClick = () => {\n    setPasswordClick(false);\n    setNickNameClick(!nickNameCLick);\n    setNickName(user.displayName);\n  };\n\n  const handlePasswordClick = () => {\n    setNickNameClick(false);\n    setPasswordClick(!passwordClick);\n  };\n\n  const handleNickNameChange = async e => {\n    e.preventDefault();\n    if (auth.currentUser && nickName.trim()) {\n      try {\n        await updateProfile(auth.currentUser, {\n          displayName: nickName.trim(),\n        });\n        Notiflix.Notify.success('Nickname updated!');\n        setNickNameClick(false);\n      } catch (error) {\n        console.error('Eroare la setarea displayName:', error);\n        Notiflix.Notify.failure('A apÄƒrut o eroare.');\n      }\n    } else {\n      Notiflix.Notify.failure(\"The nickname can't be empty!\");\n    }\n  };\n\n  const handlePasswordChange = async e => {\n    e.preventDefault();\n\n    if (!oldPassword || !newPassword) {\n      Notiflix.Notify.failure('You must complete both fields!');\n      return;\n    }\n\n    if (\n      !check.hasUpperCase ||\n      !check.hasNumber ||\n      !check.hasSymbol ||\n      !check.isLongEnough\n    ) {\n      Notiflix.Notify.failure(\n        'Password must respect the security requirements.'\n      );\n      return;\n    }\n\n    const user = auth.currentUser;\n\n    if (user) {\n      const credential = EmailAuthProvider.credential(user.email, oldPassword);\n\n      try {\n        await reauthenticateWithCredential(user, credential);\n        await updatePassword(user, newPassword);\n        Notiflix.Notify.success('Password changed succesfully!');\n        setOldPassword('');\n        setNewPassword('');\n        setPasswordClick(false);\n        setCheck({\n          hasUpperCase: false,\n          hasNumber: false,\n          isLongEnough: false,\n          hasSymbol: false,\n        });\n      } catch (error) {\n        console.error(error);\n        Notiflix.Notify.failure('Old password inccorect or another error.');\n      }\n    }\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.profileContainer}>\n        <div className={styles.dataContainer}>\n          <h3>Nickname:</h3>\n          {!nickNameCLick ? (\n            <p className={styles.text}>{user.displayName}</p>\n          ) : (\n            <form\n              onSubmit={handleNickNameChange}\n              className={\n                nickNameCLick\n                  ? `${styles.nicknameAnimation} ${styles.form} `\n                  : `${styles.form}`\n              }\n            >\n              <input\n                className={styles.input}\n                placeholder={user.displayName}\n                onChange={handleNickNameInput}\n                value={nickName}\n                type=\"text\"\n              ></input>\n              <button className={styles.saveButton} type=\"submit\">\n                Save\n              </button>\n            </form>\n          )}\n          <LiaEdit\n            onClick={handleNickNameClick}\n            className={\n              !nickNameCLick\n                ? `${styles.editButton}`\n                : `${styles.editButton} ${styles.nicknameAnimation}`\n            }\n            size={20}\n            color=\"#469ae8\"\n          />\n        </div>\n        <div className={styles.dataContainer}>\n          <h3>Email:</h3>\n          <p className={styles.text}>{user.email}</p>\n        </div>\n        <div className={styles.dataContainer}>\n          <h3>Created at:</h3>\n          <p className={styles.text}>\n            {new Date(user.metadata.creationTime).toLocaleDateString('ro-RO')}\n          </p>\n        </div>\n        <div className={styles.dataPassContainer}>\n          <button\n            className={styles.changePasswordButton}\n            onClick={handlePasswordClick}\n          >\n            Change Password\n          </button>\n          <div className={styles.overflowContainer}>\n            <div\n              className={\n                passwordClick\n                  ? `${styles.passwordAnimation}`\n                  : `${styles.passwordContainer}`\n              }\n            >\n              {passwordClick ? (\n                <form\n                  onSubmit={handlePasswordChange}\n                  className={styles.passwordForm}\n                >\n                  <label>Old password</label>\n                  <input\n                    className={styles.passInput}\n                    type=\"password\"\n                    placeholder=\"********\"\n                    onChange={handleOldPasswordInput}\n                    value={oldPassword}\n                  />\n\n                  <label>New password</label>\n                  <input\n                    className={styles.passInput}\n                    type=\"password\"\n                    placeholder=\"********\"\n                    onChange={handleNewPasswordInput}\n                    value={newPassword}\n                  />\n\n                  <div className={styles.passCheckBlock}>\n                    <p\n                      className={`${styles.passCheck} ${\n                        check.isLongEnough ? styles.valid : null\n                      }`}\n                    >\n                      <FaCheckCircle size={10} />\n                      Contains 8 characters,\n                    </p>\n                    <p\n                      className={`${styles.passCheck} ${\n                        check.hasUpperCase ? styles.valid : null\n                      }`}\n                    >\n                      <FaCheckCircle size={10} />\n                      Contains one uppercase character.\n                    </p>\n                    <p\n                      className={`${styles.passCheck} ${\n                        check.hasNumber ? styles.valid : null\n                      }`}\n                    >\n                      <FaCheckCircle size={10} />\n                      Contains one number character.\n                    </p>\n                    <p\n                      className={`${styles.passCheck} ${\n                        check.hasSymbol ? styles.valid : null\n                      }`}\n                    >\n                      <FaCheckCircle size={10} />\n                      Contains one special character.\n                    </p>\n                  </div>\n\n                  <button className={styles.saveButton} type=\"submit\">\n                    Save\n                  </button>\n                </form>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import Profile from 'components/Profile/Profile';\nimport React from 'react';\n\nexport default function ProfilePage() {\n  return (\n    <div>\n      <Profile></Profile>\n    </div>\n  );\n}\n"],"names":["Profile","user","useAuth","_useState","useState","displayName","_useState2","_slicedToArray","nickName","setNickName","_useState3","_useState4","oldPassword","setOldPassword","_useState5","_useState6","newPassword","setNewPassword","_useState7","_useState8","nickNameCLick","setNickNameClick","_useState9","_useState10","passwordClick","setPasswordClick","_useState11","hasUpperCase","hasNumber","isLongEnough","hasSymbol","_useState12","check","setCheck","handleNickNameChange","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","e","_context","prev","next","preventDefault","auth","trim","updateProfile","Notiflix","t0","console","error","stop","_x","apply","arguments","handlePasswordChange","_ref2","_callee2","credential","_context2","abrupt","EmailAuthProvider","email","reauthenticateWithCredential","updatePassword","_x2","_jsx","className","styles","children","_jsxs","onSubmit","concat","placeholder","onChange","target","value","type","LiaEdit","onClick","size","color","Date","metadata","creationTime","toLocaleDateString","test","length","FaCheckCircle","ProfilePage"],"sourceRoot":""}