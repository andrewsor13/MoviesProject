"use strict";(self.webpackChunkMoviesProject=self.webpackChunkMoviesProject||[]).push([[244],{8929:function(e,s,i){i.d(s,{Z:function(){return r}});i(2791);var t="LoadingSpinner_loader__Z8ONC",a=i(2272),n=i(184);function r(){return(0,n.jsx)("div",{className:t,children:(0,n.jsx)(a.NB,{visible:!0,height:"160",width:"160",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})})}},1244:function(e,s,i){i.r(s),i.d(s,{default:function(){return ue}});var t=i(5861),a=i(9439),n=i(4687),r=i.n(n),c=i(2791),l=i(7689),o=i(5294),d=function(){var e=(0,c.useState)(null),s=(0,a.Z)(e,2),i=s[0],n=s[1],l=(0,c.useState)(),d=(0,a.Z)(l,2),u=d[0],v=d[1],_=(0,c.useState)(!0),h=(0,a.Z)(_,2),x=h[0],m=h[1],j=(0,c.useState)(),f=(0,a.Z)(j,2),p=f[0],N=f[1],w=(0,c.useState)(),g=(0,a.Z)(w,2),M=g[0],b=g[1],D=(0,c.useRef)(!1),I=(0,c.useRef)(!1),C=(0,c.useRef)(!1),T=function(){var e=(0,t.Z)(r().mark((function e(){var s,t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.current||void 0===i||null===i){e.next=17;break}return s="https://api.themoviedb.org/3/movie/".concat(i,"?language=en-US"),t={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMTRhOTFjNTY4YjYyNWRjMTBiYjMyMTZiMmU4OTNjZSIsInN1YiI6IjY1YjM3OTVkYTA2NjQ1MDE3YzhkODdhYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.k-J_vpdCaIcpcHQqeu_ltZbhKGRyu_a4IsRKGb1g_wY"}},e.prev=3,e.next=6,o.Z.get(s,t);case 6:a=e.sent,v(a.data),m(!1),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(3),new Error("There was an error fetching the data.");case 14:return e.prev=14,I.current=!0,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=(0,t.Z)(r().mark((function e(){var s,t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.current||void 0===i||null===i){e.next=16;break}return s="https://api.themoviedb.org/3/movie/".concat(i,"/credits?language=en-US"),t={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMTRhOTFjNTY4YjYyNWRjMTBiYjMyMTZiMmU4OTNjZSIsInN1YiI6IjY1YjM3OTVkYTA2NjQ1MDE3YzhkODdhYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.k-J_vpdCaIcpcHQqeu_ltZbhKGRyu_a4IsRKGb1g_wY"}},e.prev=3,e.next=6,o.Z.get(s,t);case 6:a=e.sent,N(a.data.cast),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(3),new Error("There was an error fetching the data.");case 13:return e.prev=13,C.current=!0,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,t.Z)(r().mark((function e(){var s,t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D.current||void 0===i||null===i){e.next=16;break}return s="https://api.themoviedb.org/3/movie/".concat(i,"/reviews?language=en-US"),t={method:"GET",headers:{accept:"application/json",Authorization:{NODE_ENV:"production",PUBLIC_URL:"/MoviesProject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TMDB_API_TOKEN}},e.prev=3,e.next=6,o.Z.get(s,t);case 6:a=e.sent,b(a.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(3),new Error("There was an error fetching the reviews data.");case 13:return e.prev=13,D.current=!0,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return{fetchData:function(){T(),R(),k()},reviews:M,credits:p,setItem:n,data:u,isLoading:x}},u=i(5700),v="MovieDetails_container__o8VqJ",_="MovieDetails_posterContainer__Z1yht",h="MovieDetails_poster__Gw9Qy",x="MovieDetails_imageContainer__XDpVY",m="MovieDetails_favoriteIcon__w1i+W",j="MovieDetails_details__tmd20",f="MovieDetails_detailsInfo__qHMOQ",p="MovieDetails_detailsGenres__fu30X",N="MovieDetails_detailsGenresGenre__LzdAE",w="MovieDetails_detailsTagline__3ikH-",g="MovieDetails_title__RBndM",M="MovieDetails_detailsRating__l25p9",b="MovieDetails_dataBlock__aqGac",D="MovieDetails_dataBlock_castRev__yUUCb",I="MovieDetails_sideInfo__eFp+D",C="MovieDetails_sideInfoDescription__Pc0eq",T="MovieDetails_sideInfoExtraInfo__Smkad",R="MovieDetails_extraInfo_item__9TNq4",k="MovieDetails_extraInfo_item_title__DNiVV",S="MovieDetails_extraInfo_item_text__q4bo+",Z="MovieDetails_extras__yXcuY",y="MovieDetails_extrasButton__+4N+9",E="MovieDetails_extrasButtonActive__HQwxX",Y="MovieDetails_tabletDescription__ClFv3",O="MovieDetails_sideInfoExtraInfoTablet__cTPRo",J="MovieDetails_line__w1R9K",A="MovieDetails_detailsOverview__xpqqm",G="MovieDetails_elContainer__gDDcw",B="MovieDetails_fadeElement__4cub6",z=i(2202),U=i(8929),F=i(3433),L="Reviews_container__2j80+",q="Reviews_list__okdpy",Q="Reviews_listItem__dF9oT",W="Reviews_reviewerContainer__2w4vR",P="Reviews_reviewer__cQGKg",H="Reviews_reviewerName__Ahx3u",K="Reviews_reviewContent__oX1fD",V="Reviews_showMoreButton__7MMyU",X="Reviews_showMore__wUxXS",$="Reviews_reviewText__lxUoA",ee="Reviews_showLess__ca28N",se=i(6041),ie=i(184);function te(e){var s,i=e.reviews,t=(0,c.useState)([]),n=(0,a.Z)(t,2),r=n[0],l=n[1],o=(0,c.useState)(window.screen.width),d=(0,a.Z)(o,2),u=d[0],v=d[1],_=function(e){r.includes(e)?l(r.filter((function(s){return s!==e}))):l([].concat((0,F.Z)(r),[e]))};return(0,c.useEffect)((function(){var e=function(){v(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,ie.jsx)("div",{className:L,children:(0,ie.jsx)("ul",{className:q,children:null===(s=i.results)||void 0===s?void 0:s.map((function(e,s){var i=r.includes(s),t=i?"...show less":"show more";return(0,ie.jsxs)("li",{className:Q,children:[(0,ie.jsx)("div",{className:W,children:(0,ie.jsxs)("div",{className:P,children:[(0,ie.jsx)(se.Rq5,{size:u<1200?40:60}),(0,ie.jsx)("p",{className:H,children:e.author})]})}),(0,ie.jsxs)("div",{className:"".concat(K," ").concat(i?X:ee),children:[(0,ie.jsx)("p",{className:$,dangerouslySetInnerHTML:{__html:function(){if(!i){if(u<1200)return e.content.substring(0,200)+"...";if(u>=1200)return e.content.substring(0,500)+"..."}return e.content}()}}),u<1200?e.content.length>200&&(0,ie.jsx)("span",{className:V,onClick:function(){return _(s)},children:t}):e.content.length>500&&(0,ie.jsx)("span",{className:V,onClick:function(){return _(s)},children:t})]})]},s)}))})})}var ae={list:"Credits_list__Dgj19",fadeIn:"Credits_fadeIn__vRfGr",listItem:"Credits_listItem__AsmRK",imageContainer:"Credits_imageContainer__y3WXD",image:"Credits_image__prFGH",avatar:"Credits_avatar__y8t42",actor:"Credits_actor__ZvT5i",actorrName:"Credits_actorrName__fTnp6",actorCharacter:"Credits_actorCharacter__ff8HQ"};function ne(e){var s=e.credits;return(0,ie.jsx)("ul",{className:ae.list,children:null===s||void 0===s?void 0:s.map((function(e,s){return(0,ie.jsxs)("li",{className:ae.listItem,children:[e.profile_path?(0,ie.jsx)("div",{className:ae.imageContainer,children:(0,ie.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.profile_path),alt:e.name,className:ae.image})}):(0,ie.jsx)("div",{className:ae.avatar,children:(0,ie.jsx)(se.Rq5,{size:150})}),(0,ie.jsxs)("div",{className:ae.actor,children:[(0,ie.jsx)("p",{className:ae.actorName,children:(0,ie.jsx)("strong",{children:e.name})}),(0,ie.jsx)("p",{className:ae.actorCharacter,children:e.character})]})]},s)}))})}var re=i(3362),ce=i.n(re),le=i(5042),oe=i(1909);function de(){var e,s=(0,c.useState)(!1),i=(0,a.Z)(s,2),n=i[0],o=i[1],F=d(),L=F.fetchData,q=F.setItem,Q=F.data,W=F.isLoading,P=F.credits,H=F.reviews,K=(0,l.UO)().movieId,V=(0,c.useState)(!1),X=(0,a.Z)(V,2),$=X[0],ee=X[1],se=(0,le.a)(),ae=se.user,re=se.favorites,de=se.addFavorite,ue=se.fetchFavorites,ve=se.deleteFavorite,_e=(0,c.useState)(!1),he=(0,a.Z)(_e,2),xe=he[0],me=he[1];(0,c.useEffect)((function(){if(ae){var e=null===re||void 0===re?void 0:re.some((function(e){var s;return(null===(s=e.movie_id)||void 0===s?void 0:s.toString())===K.toString()}));me(e)}else me(!1)}),[re,ae,K]);var je=function(){var e=(0,t.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae){e.next=3;break}return ce().Notify.failure("You need to log in to save to favorites."),e.abrupt("return");case 3:if(e.prev=3,!xe){e.next=10;break}return e.next=7,ve(K);case 7:ce().Notify.success("Deleted from favorites!"),e.next=13;break;case 10:return e.next=12,de(K);case 12:ce().Notify.success("Added to favorites!");case 13:return e.next=15,ue(ae.uid);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(){return e.apply(this,arguments)}}(),fe=function(e){if(e>=1e9){var s=(e/1e9).toFixed(1);return"".concat(s,"b $")}if(e>=1e6){var i=(e/1e6).toFixed(1);return"".concat(i,"m $")}return"".concat(e.toLocaleString(),"$")};return(0,c.useEffect)((function(){K&&(q(K),L())}),[L,q,K,W]),(0,ie.jsx)(ie.Fragment,{children:W?(0,ie.jsx)(U.Z,{}):(0,ie.jsx)(u.Z,{children:(0,ie.jsxs)("div",{className:v,children:[Q&&(0,ie.jsxs)("div",{children:[(0,ie.jsxs)("div",{className:_,children:[(0,ie.jsxs)("div",{className:x,children:[(0,ie.jsx)("div",{className:m,onMouseEnter:function(){return ee(!0)},onMouseLeave:function(){return ee(!1)},onClick:je,children:xe||$?(0,ie.jsx)(oe.Yqy,{size:20,color:"#f44336"}):(0,ie.jsx)(oe.iqB,{size:20,color:"black"})}),(0,ie.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(Q.poster_path),alt:"Movie Poster",className:h})]}),(0,ie.jsxs)("div",{className:j,children:[(0,ie.jsxs)("div",{className:g,children:[(0,ie.jsxs)("h2",{children:[Q.title," (",Q.release_date.split("-")[0],")"]}),(0,ie.jsx)("div",{children:(0,ie.jsxs)("div",{className:f,children:[(0,ie.jsxs)("p",{children:["(",Q.original_language.toUpperCase(),")"]}),(0,ie.jsx)("p",{children:Q.release_date}),(0,ie.jsx)("ul",{className:p,children:Q.genres.map((function(e,s){return(0,ie.jsx)("li",{className:N,children:(0,ie.jsxs)("strong",{children:[e.name,s<Q.genres.length-1?",":null]})},s)}))})]})}),(0,ie.jsxs)("div",{className:M,children:[(0,ie.jsx)(z.QJe,{color:"orange",size:20}),(0,ie.jsx)("p",{children:(0,ie.jsx)("strong",{children:null===(e=Q.vote_average)||void 0===e?void 0:e.toFixed(1)})})]}),(0,ie.jsx)("p",{className:w,children:Q.tagline})]}),(0,ie.jsxs)("div",{className:Y,children:[(0,ie.jsx)("p",{children:(0,ie.jsx)("b",{children:"Description:"})}),(0,ie.jsx)("p",{className:A,children:Q.overview})]}),(0,ie.jsxs)("ul",{className:O,children:[(0,ie.jsxs)("li",{className:R,children:[(0,ie.jsx)("p",{className:k,children:"Status:"}),(0,ie.jsx)("p",{className:S,children:null===Q||void 0===Q?void 0:Q.status})]}),(0,ie.jsxs)("li",{className:R,children:[(0,ie.jsx)("p",{className:k,children:"Budget:"}),(0,ie.jsx)("p",{className:S,children:0===(null===Q||void 0===Q?void 0:Q.budget)?"N/A":fe(null===Q||void 0===Q?void 0:Q.budget)})]}),(0,ie.jsxs)("li",{className:R,children:[(0,ie.jsx)("p",{className:k,children:"Revenue:"}),(0,ie.jsx)("p",{className:S,children:0===(null===Q||void 0===Q?void 0:Q.revenue)?"N/A":fe(null===Q||void 0===Q?void 0:Q.revenue)})]})]})]})]}),(0,ie.jsx)("hr",{className:J}),(0,ie.jsxs)("div",{className:I,children:[(0,ie.jsxs)("div",{className:C,children:[(0,ie.jsx)("p",{children:(0,ie.jsx)("b",{children:"Description:"})}),(0,ie.jsx)("p",{className:A,children:Q.overview})]}),(0,ie.jsx)("hr",{className:J}),(0,ie.jsxs)("ul",{className:T,children:[(0,ie.jsxs)("li",{className:R,children:[(0,ie.jsx)("p",{className:k,children:"Status:"}),(0,ie.jsx)("p",{className:S,children:null===Q||void 0===Q?void 0:Q.status})]}),(0,ie.jsxs)("li",{className:R,children:[(0,ie.jsx)("p",{className:k,children:"Budget:"}),(0,ie.jsx)("p",{className:S,children:0===(null===Q||void 0===Q?void 0:Q.budget)?"N/A":fe(null===Q||void 0===Q?void 0:Q.budget)})]}),(0,ie.jsxs)("li",{className:R,children:[(0,ie.jsx)("p",{className:k,children:"Revenue:"}),(0,ie.jsx)("p",{className:S,children:0===(null===Q||void 0===Q?void 0:Q.revenue)?"N/A":fe(null===Q||void 0===Q?void 0:Q.revenue)})]})]})]})]}),(0,ie.jsxs)("div",{className:Z,children:[(0,ie.jsx)("button",{className:"".concat(y," ").concat(n?"":E),onClick:function(){o(!1)},children:"Cast"}),(0,ie.jsxs)("button",{className:"".concat(y," ").concat(n?E:""),onClick:function(){o(!0)},children:["Reviews (",(0,ie.jsx)("b",{children:null===H||void 0===H?void 0:H.total_results}),")"]})]}),(0,ie.jsx)("div",{className:G,children:(0,ie.jsx)("div",{className:b,children:(0,ie.jsxs)("div",{className:D,children:[n?(0,ie.jsx)(te,{reviews:H}):(0,ie.jsx)(ne,{credits:P}),(0,ie.jsx)("div",{className:B})]})})})]})})})}function ue(){return(0,ie.jsx)("div",{children:(0,ie.jsx)(de,{})})}}}]);
//# sourceMappingURL=244.d0348c95.chunk.js.map