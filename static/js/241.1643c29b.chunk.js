"use strict";(self.webpackChunkMoviesProject=self.webpackChunkMoviesProject||[]).push([[241],{241:function(e,a,s){s.r(a),s.d(a,{default:function(){return L}});var r=s(5861),t=s(9439),n=s(4687),c=s.n(n),i=s(2791),o="Profile_container__-cCQ9",l="Profile_profileContainer__CUA1O",u="Profile_dataContainer__umv-m",d="Profile_dataPassContainer__eEumd",h="Profile_editButton__gWCwN",p="Profile_changePasswordButton__B8N3B",m="Profile_form__tDdWd",f="Profile_input__MxRb6",_="Profile_passInput__xuPwF",x="Profile_text__tnq0+",N="Profile_nicknameAnimation__tIOTR",v="Profile_saveButton__5-BXx",j="Profile_overflowContainer__WZQ7m",b="Profile_passwordContainer__cAdV0",y="Profile_passwordAnimation__nXHpy",C="Profile_passwordForm__FavEe",P="Profile_passCheckBlock__A2GoU",g="Profile_passCheck__-4fmj",w="Profile_valid__PQy1x",k=s(5042),S=s(5799),U=s(8986),Z=s(764),E=s(3362),F=s.n(E),A=s(2202),B=s(184);function M(){var e=(0,k.a)().user,a=(0,i.useState)(e.displayName),s=(0,t.Z)(a,2),n=s[0],E=s[1],M=(0,i.useState)(""),L=(0,t.Z)(M,2),z=L[0],D=L[1],I=(0,i.useState)(""),O=(0,t.Z)(I,2),J=O[0],Q=O[1],R=(0,i.useState)(!1),T=(0,t.Z)(R,2),W=T[0],q=T[1],X=(0,i.useState)(!1),G=(0,t.Z)(X,2),H=G[0],V=G[1],Y=(0,i.useState)({hasUpperCase:!1,hasNumber:!1,isLongEnough:!1,hasSymbol:!1}),$=(0,t.Z)(Y,2),K=$[0],ee=$[1],ae=function(){var e=(0,r.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!U.I.currentUser||!n.trim()){e.next=15;break}return e.prev=2,e.next=5,(0,S.ck)(U.I.currentUser,{displayName:n.trim()});case 5:F().Notify.success("Nickname updated!"),q(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Eroare la setarea displayName:",e.t0),F().Notify.failure("A ap\u0103rut o eroare.");case 13:e.next=16;break;case 15:F().Notify.failure("The nickname can't be empty!");case 16:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}(),se=function(){var e=(0,r.Z)(c().mark((function e(a){var s,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),z&&J){e.next=4;break}return F().Notify.failure("You must complete both fields!"),e.abrupt("return");case 4:if(K.hasUpperCase&&K.hasNumber&&K.hasSymbol&&K.isLongEnough){e.next=7;break}return F().Notify.failure("Password must respect the security requirements."),e.abrupt("return");case 7:if(!(s=U.I.currentUser)){e.next=26;break}return r=S.w9.credential(s.email,z),e.prev=10,e.next=13,(0,S.aF)(s,r);case 13:return e.next=15,(0,S.gQ)(s,J);case 15:F().Notify.success("Password changed succesfully!"),D(""),Q(""),V(!1),ee({hasUpperCase:!1,hasNumber:!1,isLongEnough:!1,hasSymbol:!1}),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(10),console.error(e.t0),F().Notify.failure("Old password inccorect or another error.");case 26:case"end":return e.stop()}}),e,null,[[10,22]])})));return function(a){return e.apply(this,arguments)}}();return(0,B.jsx)("div",{className:o,children:(0,B.jsxs)("div",{className:l,children:[(0,B.jsxs)("div",{className:u,children:[(0,B.jsx)("h3",{children:"Nickname:"}),W?(0,B.jsxs)("form",{onSubmit:ae,className:W?"".concat(N," ").concat(m," "):"".concat(m),children:[(0,B.jsx)("input",{className:f,placeholder:e.displayName,onChange:function(e){E(e.target.value)},value:n,type:"text"}),(0,B.jsx)("button",{className:v,type:"submit",children:"Save"})]}):(0,B.jsx)("p",{className:x,children:e.displayName}),(0,B.jsx)(Z.cyu,{onClick:function(){V(!1),q(!W),E(e.displayName)},className:W?"".concat(h," ").concat(N):"".concat(h),size:20,color:"#469ae8"})]}),(0,B.jsxs)("div",{className:u,children:[(0,B.jsx)("h3",{children:"Email:"}),(0,B.jsx)("p",{className:x,children:e.email})]}),(0,B.jsxs)("div",{className:u,children:[(0,B.jsx)("h3",{children:"Created at:"}),(0,B.jsx)("p",{className:x,children:new Date(e.metadata.creationTime).toLocaleDateString("ro-RO")})]}),(0,B.jsxs)("div",{className:d,children:[(0,B.jsx)("button",{className:p,onClick:function(){q(!1),V(!H)},children:"Change Password"}),(0,B.jsx)("div",{className:j,children:(0,B.jsx)("div",{className:"".concat(H?y:b),children:H?(0,B.jsxs)("form",{onSubmit:se,className:C,children:[(0,B.jsx)("label",{children:"Old password"}),(0,B.jsx)("input",{className:_,type:"password",placeholder:"********",onChange:function(e){D(e.target.value)},value:z}),(0,B.jsx)("label",{children:"New password"}),(0,B.jsx)("input",{className:_,type:"password",placeholder:"********",onChange:function(e){Q(e.target.value),ee({hasUpperCase:/[A-Z]/.test(e.target.value),hasNumber:/\d/.test(e.target.value),hasSymbol:/[!@#$%^&*]/.test(e.target.value),isLongEnough:e.target.value.length>=8})},value:J}),(0,B.jsxs)("div",{className:P,children:[(0,B.jsxs)("p",{className:"".concat(g," ").concat(K.isLongEnough?w:null),children:[(0,B.jsx)(A.FJM,{size:10}),"Contains 8 characters,"]}),(0,B.jsxs)("p",{className:"".concat(g," ").concat(K.hasUpperCase?w:null),children:[(0,B.jsx)(A.FJM,{size:10}),"Contains one uppercase character."]}),(0,B.jsxs)("p",{className:"".concat(g," ").concat(K.hasNumber?w:null),children:[(0,B.jsx)(A.FJM,{size:10}),"Contains one number character."]}),(0,B.jsxs)("p",{className:"".concat(g," ").concat(K.hasSymbol?w:null),children:[(0,B.jsx)(A.FJM,{size:10}),"Contains one special character."]})]}),(0,B.jsx)("button",{className:v,type:"submit",children:"Save"})]}):null})})]})]})})}function L(){return(0,B.jsx)("div",{children:(0,B.jsx)(M,{})})}}}]);
//# sourceMappingURL=241.1643c29b.chunk.js.map