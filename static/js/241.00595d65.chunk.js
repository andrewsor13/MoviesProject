"use strict";(self.webpackChunkMoviesProject=self.webpackChunkMoviesProject||[]).push([[241],{241:function(e,a,s){s.r(a),s.d(a,{default:function(){return O}});var n=s(5861),r=s(9439),t=s(4687),c=s.n(t),i=s(2791),o="Profile_container__-cCQ9",l="Profile_profileContainer__CUA1O",u="Profile_dataContainer__umv-m",d="Profile_dataPassContainer__eEumd",m="Profile_editButton__gWCwN",h="Profile_element__FW1Mb",p="Profile_changePasswordButton__B8N3B",f="Profile_form__tDdWd",_="Profile_input__MxRb6",x="Profile_passInput__xuPwF",N="Profile_text__tnq0+",v="Profile_nicknameAnimation__tIOTR",j="Profile_nickEditContainer__y+54v",w="Profile_saveButton__5-BXx",b="Profile_overflowContainer__WZQ7m",P="Profile_passwordContainer__cAdV0",y="Profile_passwordAnimation__nXHpy",C="Profile_passwordForm__FavEe",g="Profile_passCheckBlock__A2GoU",k="Profile_passCheck__-4fmj",S="Profile_valid__PQy1x",E=s(5042),Z=s(5799),U=s(8986),F=s(764),L=s(3362),M=s.n(L),z=s(2202),A=s(184);function B(){var e=(0,E.a)().user,a=(0,i.useState)(""),s=(0,r.Z)(a,2),t=s[0],L=s[1],B=(0,i.useState)(""),O=(0,r.Z)(B,2),W=O[0],D=O[1],I=(0,i.useState)(""),J=(0,r.Z)(I,2),Q=J[0],R=J[1],T=(0,i.useState)(!1),q=(0,r.Z)(T,2),X=q[0],G=q[1],H=(0,i.useState)(!1),V=(0,r.Z)(H,2),Y=V[0],$=V[1],K=(0,i.useState)(window.innerWidth),ee=(0,r.Z)(K,2),ae=ee[0],se=ee[1],ne=(0,i.useState)({hasUpperCase:!1,hasNumber:!1,isLongEnough:!1,hasSymbol:!1}),re=(0,r.Z)(ne,2),te=re[0],ce=re[1],ie=function(){var e=(0,n.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!U.I.currentUser||!t.trim()){e.next=15;break}return e.prev=2,e.next=5,(0,Z.ck)(U.I.currentUser,{displayName:t.trim()});case 5:M().Notify.success("Nickname updated!"),G(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Eroare la setarea displayName:",e.t0),M().Notify.failure("A ap\u0103rut o eroare.");case 13:e.next=16;break;case 15:M().Notify.failure("The nickname can't be empty!");case 16:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}(),oe=function(){var e=(0,n.Z)(c().mark((function e(a){var s,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),W&&Q){e.next=4;break}return M().Notify.failure("You must complete both fields!"),e.abrupt("return");case 4:if(te.hasUpperCase&&te.hasNumber&&te.hasSymbol&&te.isLongEnough){e.next=7;break}return M().Notify.failure("Password must respect the security requirements."),e.abrupt("return");case 7:if(!(s=U.I.currentUser)){e.next=26;break}return n=Z.w9.credential(s.email,W),e.prev=10,e.next=13,(0,Z.aF)(s,n);case 13:return e.next=15,(0,Z.gQ)(s,Q);case 15:M().Notify.success("Password changed succesfully!"),D(""),R(""),$(!1),ce({hasUpperCase:!1,hasNumber:!1,isLongEnough:!1,hasSymbol:!1}),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(10),console.error(e.t0),M().Notify.failure("Old password inccorect or another error.");case 26:case"end":return e.stop()}}),e,null,[[10,22]])})));return function(a){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){var e=function(){se(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),(0,A.jsx)("div",{className:o,children:(0,A.jsxs)("div",{className:l,children:[(0,A.jsxs)("div",{className:u,children:[(0,A.jsx)("h3",{className:h,children:"Nickname:"}),(0,A.jsxs)("div",{className:j,children:[X?(0,A.jsxs)("form",{onSubmit:ie,className:X?"".concat(v," ").concat(f," "):"".concat(f),name:"Change nickname",children:[(0,A.jsx)("input",{className:_,placeholder:e.displayName,onChange:function(e){L(e.target.value)},value:t,type:"text",name:"Nickname"}),(0,A.jsx)("button",{className:w,type:"submit",children:"Save"})]}):(0,A.jsx)("p",{className:N,children:e.displayName}),(0,A.jsx)(F.cyu,{onClick:function(){var a;$(!1),G(!X),L(null!==(a=null===e||void 0===e?void 0:e.displayName)&&void 0!==a?a:"")},className:X?"".concat(m," ").concat(v):"".concat(m),size:ae<768?25:35,color:"#469ae8"})]})]}),(0,A.jsxs)("div",{className:u,children:[(0,A.jsx)("h3",{className:h,children:"Email:"}),(0,A.jsx)("p",{className:N,children:e.email})]}),(0,A.jsxs)("div",{className:u,children:[(0,A.jsx)("h3",{className:h,children:"Created at:"}),(0,A.jsx)("p",{className:N,children:new Date(e.metadata.creationTime).toLocaleDateString("ro-RO")})]}),(0,A.jsxs)("div",{className:d,children:[(0,A.jsx)("button",{className:p,onClick:function(){G(!1),$(!Y)},children:"Change Password"}),(0,A.jsx)("div",{className:b,children:(0,A.jsx)("div",{className:"".concat(Y?y:P),children:Y?(0,A.jsxs)("form",{onSubmit:oe,className:C,name:"Change Password",children:[(0,A.jsx)("label",{children:"Old password"}),(0,A.jsx)("input",{className:x,type:"password",placeholder:"********",onChange:function(e){D(e.target.value)},value:W,name:"Old Password"}),(0,A.jsx)("label",{children:"New password"}),(0,A.jsx)("input",{className:x,type:"password",placeholder:"********",onChange:function(e){R(e.target.value),ce({hasUpperCase:/[A-Z]/.test(e.target.value),hasNumber:/\d/.test(e.target.value),hasSymbol:/[!@#$%^&*]/.test(e.target.value),isLongEnough:e.target.value.length>=8})},value:Q,name:"New Password"}),(0,A.jsxs)("div",{className:g,children:[(0,A.jsxs)("p",{className:"".concat(k," ").concat(te.isLongEnough?S:null),children:[(0,A.jsx)(z.FJM,{size:10}),"Contains 8 characters,"]}),(0,A.jsxs)("p",{className:"".concat(k," ").concat(te.hasUpperCase?S:null),children:[(0,A.jsx)(z.FJM,{size:10}),"Contains one uppercase character."]}),(0,A.jsxs)("p",{className:"".concat(k," ").concat(te.hasNumber?S:null),children:[(0,A.jsx)(z.FJM,{size:10}),"Contains one number character."]}),(0,A.jsxs)("p",{className:"".concat(k," ").concat(te.hasSymbol?S:null),children:[(0,A.jsx)(z.FJM,{size:10}),"Contains one special character."]})]}),(0,A.jsx)("button",{className:w,type:"submit",children:"Save"})]}):null})})]})]})})}function O(){return(0,A.jsx)("div",{children:(0,A.jsx)(B,{})})}}}]);
//# sourceMappingURL=241.00595d65.chunk.js.map