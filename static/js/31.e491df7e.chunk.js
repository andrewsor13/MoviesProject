"use strict";(self.webpackChunkMoviesProject=self.webpackChunkMoviesProject||[]).push([[31],{929:function(e,s,i){i.d(s,{Z:function(){return r}});i(791);var a="LoadingSpinner_loader__Z8ONC",t=i(272),n=i(184);function r(){return(0,n.jsx)("div",{className:a,children:(0,n.jsx)(t.NB,{visible:!0,height:"160",width:"160",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})})}},31:function(e,s,i){i.r(s),i.d(s,{default:function(){return ne}});var a=i(439),t=i(791),n=i(689),r=i(861),c=i(687),l=i.n(c),o=i(294),d=function(){var e=(0,t.useState)(null),s=(0,a.Z)(e,2),i=s[0],n=s[1],c=(0,t.useState)(),d=(0,a.Z)(c,2),u=d[0],v=d[1],_=(0,t.useState)(!0),h=(0,a.Z)(_,2),j=h[0],m=h[1],x=(0,t.useState)(),p=(0,a.Z)(x,2),N=p[0],f=p[1],w=(0,t.useState)(),g=(0,a.Z)(w,2),M=g[0],I=g[1],b=(0,t.useRef)(!1),D=(0,t.useRef)(!1),C=(0,t.useRef)(!1),R=function(){var e=(0,r.Z)(l().mark((function e(){var s,a,t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D.current||void 0===i||null===i){e.next=18;break}return s="https://api.themoviedb.org/3/movie/".concat(i,"?language=en-US"),a={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMTRhOTFjNTY4YjYyNWRjMTBiYjMyMTZiMmU4OTNjZSIsInN1YiI6IjY1YjM3OTVkYTA2NjQ1MDE3YzhkODdhYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.k-J_vpdCaIcpcHQqeu_ltZbhKGRyu_a4IsRKGb1g_wY"}},e.prev=3,e.next=6,o.Z.get(s,a);case 6:t=e.sent,v(t.data),console.log(t.data),m(!1),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(3),new Error("There was an error fetching the data.");case 15:return e.prev=15,D.current=!0,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,r.Z)(l().mark((function e(){var s,a,t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.current||void 0===i||null===i){e.next=16;break}return s="https://api.themoviedb.org/3/movie/".concat(i,"/credits?language=en-US"),a={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMTRhOTFjNTY4YjYyNWRjMTBiYjMyMTZiMmU4OTNjZSIsInN1YiI6IjY1YjM3OTVkYTA2NjQ1MDE3YzhkODdhYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.k-J_vpdCaIcpcHQqeu_ltZbhKGRyu_a4IsRKGb1g_wY"}},e.prev=3,e.next=6,o.Z.get(s,a);case 6:t=e.sent,f(t.data.cast),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(3),new Error("There was an error fetching the data.");case 13:return e.prev=13,C.current=!0,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,r.Z)(l().mark((function e(){var s,a,t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.current||void 0===i||null===i){e.next=16;break}return s="https://api.themoviedb.org/3/movie/".concat(i,"/reviews?language=en-US"),a={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjMTRhOTFjNTY4YjYyNWRjMTBiYjMyMTZiMmU4OTNjZSIsInN1YiI6IjY1YjM3OTVkYTA2NjQ1MDE3YzhkODdhYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.k-J_vpdCaIcpcHQqeu_ltZbhKGRyu_a4IsRKGb1g_wY"}},e.prev=3,e.next=6,o.Z.get(s,a);case 6:t=e.sent,I(t.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(3),new Error("There was an error fetching the reviews data.");case 13:return e.prev=13,b.current=!0,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return{fetchData:function(){R(),T(),Z()},reviews:M,credits:N,setItem:n,data:u,isLoading:j}},u=i(700),v="MovieDetails_container__o8VqJ",_="MovieDetails_posterContainer__Z1yht",h="MovieDetails_poster__Gw9Qy",j="MovieDetails_details__tmd20",m="MovieDetails_detailsInfo__qHMOQ",x="MovieDetails_detailsGenres__fu30X",p="MovieDetails_detailsGenresGenre__LzdAE",N="MovieDetails_detailsTagline__3ikH-",f="MovieDetails_title__RBndM",w="MovieDetails_detailsRating__l25p9",g="MovieDetails_dataBlock__aqGac",M="MovieDetails_dataBlock_castRev__yUUCb",I="MovieDetails_sideInfo__eFp+D",b="MovieDetails_sideInfoDescription__Pc0eq",D="MovieDetails_sideInfoExtraInfo__Smkad",C="MovieDetails_extraInfo_item__9TNq4",R="MovieDetails_extraInfo_item_title__DNiVV",T="MovieDetails_extraInfo_item_text__q4bo+",Z="MovieDetails_extras__yXcuY",y="MovieDetails_extrasButton__+4N+9",Y="MovieDetails_extrasButtonActive__HQwxX",k="MovieDetails_tabletDescription__ClFv3",J="MovieDetails_sideInfoExtraInfoTablet__cTPRo",G="MovieDetails_line__w1R9K",O="MovieDetails_detailsOverview__xpqqm",S="MovieDetails_elContainer__gDDcw",z="MovieDetails_fadeElement__4cub6",B=i(202),Q=i(929),E=i(433),U="Reviews_container__2j80+",A="Reviews_list__okdpy",W="Reviews_listItem__dF9oT",q="Reviews_reviewerContainer__2w4vR",L="Reviews_reviewer__cQGKg",F="Reviews_reviewerName__Ahx3u",H="Reviews_reviewContent__oX1fD",K="Reviews_showMoreButton__7MMyU",V="Reviews_showMore__wUxXS",X="Reviews_reviewText__lxUoA",P="Reviews_showLess__ca28N",$=i(41),ee=i(184);function se(e){var s,i=e.reviews,n=(0,t.useState)([]),r=(0,a.Z)(n,2),c=r[0],l=r[1],o=(0,t.useState)(window.screen.width),d=(0,a.Z)(o,2),u=d[0],v=d[1],_=function(e){c.includes(e)?l(c.filter((function(s){return s!==e}))):l([].concat((0,E.Z)(c),[e]))};return(0,t.useEffect)((function(){var e=function(){v(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,ee.jsx)("div",{className:U,children:(0,ee.jsx)("ul",{className:A,children:null===(s=i.results)||void 0===s?void 0:s.map((function(e,s){var i=c.includes(s),a=i?"...show less":"show more";return(0,ee.jsxs)("li",{className:W,children:[(0,ee.jsx)("div",{className:q,children:(0,ee.jsxs)("div",{className:L,children:[(0,ee.jsx)($.Rq5,{size:u<1200?40:60}),(0,ee.jsx)("p",{className:F,children:e.author})]})}),(0,ee.jsxs)("div",{className:"".concat(H," ").concat(i?V:P),children:[(0,ee.jsx)("p",{className:X,dangerouslySetInnerHTML:{__html:function(){if(!i){if(u<1200)return e.content.substring(0,200)+"...";if(u>=1200)return e.content.substring(0,500)+"..."}return e.content}()}}),u<1200?e.content.length>200&&(0,ee.jsx)("span",{className:K,onClick:function(){return _(s)},children:a}):e.content.length>500&&(0,ee.jsx)("span",{className:K,onClick:function(){return _(s)},children:a})]})]},s)}))})})}var ie={list:"Credits_list__Dgj19",fadeIn:"Credits_fadeIn__vRfGr",listItem:"Credits_listItem__AsmRK",imageContainer:"Credits_imageContainer__y3WXD",image:"Credits_image__prFGH",avatar:"Credits_avatar__y8t42",actor:"Credits_actor__ZvT5i",actorrName:"Credits_actorrName__fTnp6",actorCharacter:"Credits_actorCharacter__ff8HQ"};function ae(e){var s=e.credits;return(0,ee.jsx)("ul",{className:ie.list,children:null===s||void 0===s?void 0:s.map((function(e,s){return(0,ee.jsxs)("li",{className:ie.listItem,children:[e.profile_path?(0,ee.jsx)("div",{className:ie.imageContainer,children:(0,ee.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.profile_path),alt:e.name,className:ie.image})}):(0,ee.jsx)("div",{className:ie.avatar,children:(0,ee.jsx)($.Rq5,{size:150})}),(0,ee.jsxs)("div",{className:ie.actor,children:[(0,ee.jsx)("p",{className:ie.actorName,children:(0,ee.jsx)("strong",{children:e.name})}),(0,ee.jsx)("p",{className:ie.actorCharacter,children:e.character})]})]},s)}))})}function te(){var e,s=(0,t.useState)(!1),i=(0,a.Z)(s,2),r=i[0],c=i[1],l=d(),o=l.fetchData,E=l.setItem,U=l.data,A=l.isLoading,W=l.credits,q=l.reviews,L=function(e){if(e>=1e9){var s=(e/1e9).toFixed(1);return"".concat(s,"b $")}if(e>=1e6){var i=(e/1e6).toFixed(1);return"".concat(i,"m $")}return"".concat(e.toLocaleString(),"$")},F=(0,n.UO)().movieId;return(0,t.useEffect)((function(){F&&(E(F),o())}),[o,E,F,A]),(0,ee.jsx)(ee.Fragment,{children:A?(0,ee.jsx)(Q.Z,{}):(0,ee.jsx)(u.Z,{children:(0,ee.jsxs)("div",{className:v,children:[U&&(0,ee.jsxs)("div",{children:[(0,ee.jsxs)("div",{className:_,children:[(0,ee.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(U.poster_path),alt:"Movie Poster",className:h}),(0,ee.jsxs)("div",{className:j,children:[(0,ee.jsxs)("div",{className:f,children:[(0,ee.jsxs)("h2",{children:[U.title," (",U.release_date.split("-")[0],")"]}),(0,ee.jsx)("div",{children:(0,ee.jsxs)("div",{className:m,children:[(0,ee.jsxs)("p",{children:["(",U.original_language.toUpperCase(),")"]}),(0,ee.jsx)("p",{children:U.release_date}),(0,ee.jsx)("ul",{className:x,children:U.genres.map((function(e,s){return(0,ee.jsx)("li",{className:p,children:(0,ee.jsxs)("strong",{children:[e.name,s<U.genres.length-1?",":null]})},s)}))})]})}),(0,ee.jsxs)("div",{className:w,children:[(0,ee.jsx)(B.QJe,{color:"orange",size:20}),(0,ee.jsx)("p",{children:(0,ee.jsx)("strong",{children:null===(e=U.vote_average)||void 0===e?void 0:e.toFixed(1)})})]}),(0,ee.jsx)("p",{className:N,children:U.tagline})]}),(0,ee.jsxs)("div",{className:k,children:[(0,ee.jsx)("p",{children:(0,ee.jsx)("b",{children:"Description:"})}),(0,ee.jsx)("p",{className:O,children:U.overview})]}),(0,ee.jsxs)("ul",{className:J,children:[(0,ee.jsxs)("li",{className:C,children:[(0,ee.jsx)("p",{className:R,children:"Status:"}),(0,ee.jsx)("p",{className:T,children:null===U||void 0===U?void 0:U.status})]}),(0,ee.jsxs)("li",{className:C,children:[(0,ee.jsx)("p",{className:R,children:"Budget:"}),(0,ee.jsx)("p",{className:T,children:0===(null===U||void 0===U?void 0:U.budget)?"N/A":L(null===U||void 0===U?void 0:U.budget)})]}),(0,ee.jsxs)("li",{className:C,children:[(0,ee.jsx)("p",{className:R,children:"Revenue:"}),(0,ee.jsx)("p",{className:T,children:0===(null===U||void 0===U?void 0:U.revenue)?"N/A":L(null===U||void 0===U?void 0:U.revenue)})]})]})]})]}),(0,ee.jsx)("hr",{className:G}),(0,ee.jsxs)("div",{className:I,children:[(0,ee.jsxs)("div",{className:b,children:[(0,ee.jsx)("p",{children:(0,ee.jsx)("b",{children:"Description:"})}),(0,ee.jsx)("p",{className:O,children:U.overview})]}),(0,ee.jsx)("hr",{className:G}),(0,ee.jsxs)("ul",{className:D,children:[(0,ee.jsxs)("li",{className:C,children:[(0,ee.jsx)("p",{className:R,children:"Status:"}),(0,ee.jsx)("p",{className:T,children:null===U||void 0===U?void 0:U.status})]}),(0,ee.jsxs)("li",{className:C,children:[(0,ee.jsx)("p",{className:R,children:"Budget:"}),(0,ee.jsx)("p",{className:T,children:0===(null===U||void 0===U?void 0:U.budget)?"N/A":L(null===U||void 0===U?void 0:U.budget)})]}),(0,ee.jsxs)("li",{className:C,children:[(0,ee.jsx)("p",{className:R,children:"Revenue:"}),(0,ee.jsx)("p",{className:T,children:0===(null===U||void 0===U?void 0:U.revenue)?"N/A":L(null===U||void 0===U?void 0:U.revenue)})]})]})]})]}),(0,ee.jsxs)("div",{className:Z,children:[(0,ee.jsx)("button",{className:"".concat(y," ").concat(r?"":Y),onClick:function(){c(!1)},children:"Cast"}),(0,ee.jsxs)("button",{className:"".concat(y," ").concat(r?Y:""),onClick:function(){c(!0)},children:["Reviews (",(0,ee.jsx)("b",{children:null===q||void 0===q?void 0:q.total_results}),")"]})]}),(0,ee.jsx)("div",{className:S,children:(0,ee.jsx)("div",{className:g,children:(0,ee.jsxs)("div",{className:M,children:[r?(0,ee.jsx)(se,{reviews:q}):(0,ee.jsx)(ae,{credits:W}),(0,ee.jsx)("div",{className:z})]})})})]})})})}function ne(){return(0,ee.jsx)("div",{children:(0,ee.jsx)(te,{})})}}}]);
//# sourceMappingURL=31.e491df7e.chunk.js.map