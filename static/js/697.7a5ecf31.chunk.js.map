{"version":3,"file":"static/js/697.7a5ecf31.chunk.js","mappings":"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","sources":["webpack://MoviesProject/./src/components/LoadingSpinner/LoadingSpinner.module.css?71a2","components/LoadingSpinner/LoadingSpinner.jsx","webpack://MoviesProject/./src/components/MoviesLayout/MoviesLayout.module.css?4724","webpack://MoviesProject/./src/components/Card/Card.module.css?4f06","components/Card/Card.jsx","components/MoviesLayout/MoviesLayout.jsx","pages/FavoritesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"LoadingSpinner_loader__Z8ONC\"};","import React from 'react';\nimport styles from './LoadingSpinner.module.css';\n\nimport { ColorRing } from 'react-loader-spinner';\n\nexport default function LoadingSpinner() {\n  return (\n    <div className={styles.loader}>\n      <ColorRing\n        visible={true}\n        height=\"160\"\n        width=\"160\"\n        ariaLabel=\"blocks-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"blocks-wrapper\"\n        colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n      />\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesLayout_list__DNti2\",\"fadeIn\":\"MoviesLayout_fadeIn__Hg2Xi\",\"listItem\":\"MoviesLayout_listItem__mcq45\"};","// extracted by mini-css-extract-plugin\nexport default {\"coverContainer\":\"Card_coverContainer__ialz7\",\"imageContainer\":\"Card_imageContainer__5xKWZ\",\"favoriteIcon\":\"Card_favoriteIcon__nVXxz\",\"image\":\"Card_image__ZlhbW\",\"description\":\"Card_description__jyadU\",\"title\":\"Card_title__A6GVy\",\"rating\":\"Card_rating__-uR2+\",\"ratingContainer\":\"Card_ratingContainer__Xo0DF\"};","import React, { useEffect, useState } from 'react';\nimport { FaStar } from 'react-icons/fa';\nimport styles from './Card.module.css';\nimport { useNavigate } from 'react-router-dom';\nimport { useSearchData } from 'Store/SearchData';\nimport { MdFavoriteBorder, MdFavorite } from 'react-icons/md';\nimport { useAuth } from 'Store/AuthContext';\nimport Notiflix from 'notiflix';\n\nNotiflix.Notify.init({\n  timeout: 1000,\n  position: 'left-bottom',\n  clickToClose: true,\n  pauseOnHover: false,\n});\n\nexport default function Card({\n  poster_path,\n  title,\n  vote_average,\n  release_date,\n  movie_id,\n}) {\n  const navigate = useNavigate();\n  const { query, pageNumber } = useSearchData();\n  const [hovered, setHovered] = useState(false);\n  const { user, favorites, addFavorite, fetchFavorites, deleteFavorite } =\n    useAuth();\n  const [favorite, setFavorite] = useState(false);\n\n  useEffect(() => {\n    if (!user) {\n      setFavorite(false);\n      return;\n    }\n\n    const isFavorite = favorites?.some(\n      fav => fav.movie_id?.toString() === movie_id.toString()\n    );\n    setFavorite(isFavorite);\n  }, [favorites, user, movie_id]);\n\n  const handleClick = () => {\n    if (query) {\n      navigate(`/MoviesProject/search/${query}/${pageNumber}/${movie_id}`);\n    } else {\n      navigate(`/MoviesProject/details/${movie_id}`);\n    }\n  };\n\n  const toggleFavorite = async () => {\n    if (!user) {\n      Notiflix.Notify.failure('You need to log in to save to favorites.');\n      return;\n    }\n\n    try {\n      if (favorite) {\n        await deleteFavorite(movie_id);\n        Notiflix.Notify.success('Deleted from favorites!');\n      } else {\n        await addFavorite(movie_id);\n        Notiflix.Notify.success('Added to favorites!');\n      }\n\n      await fetchFavorites(user.uid);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div className={styles.coverContainer}>\n      <div className={styles.imageContainer}>\n        <div\n          className={styles.favoriteIcon}\n          onMouseEnter={() => setHovered(true)}\n          onMouseLeave={() => setHovered(false)}\n          onClick={toggleFavorite}\n        >\n          {favorite || hovered ? (\n            <MdFavorite size={20} color=\"#f44336\" />\n          ) : (\n            <MdFavoriteBorder size={20} color=\"black\" />\n          )}\n        </div>\n\n        <img\n          src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n          alt={title}\n          className={styles.image}\n          onClick={handleClick}\n        />\n      </div>\n      <div className={styles.description}>\n        <h2 className={styles.title}>{title}</h2>\n        <div className={styles.rating}>\n          <div className={styles.ratingContainer}>\n            <FaStar color=\"orange\" />\n            <p>\n              <b>{vote_average?.toFixed(1)}</b>\n            </p>\n          </div>\n          <p>\n            <b>{release_date}</b>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport styles from './MoviesLayout.module.css';\nimport Card from 'components/Card/Card';\n\nimport { useTrendingData } from '../../Store/TrendingDataContext';\nimport LoadingSpinner from '../LoadingSpinner/LoadingSpinner';\n\nexport default function MoviesLayout({ data }) {\n  const { isLoading, error } = useTrendingData();\n\n  const hasResultsArray = Array.isArray(data?.results);\n  const hasDirectArray = Array.isArray(data);\n\n  const movies = hasResultsArray ? data.results : hasDirectArray ? data : [];\n\n  return (\n    <div>\n      {isLoading ? (\n        <LoadingSpinner />\n      ) : error ? (\n        <p>{error}</p>\n      ) : movies.length > 0 ? (\n        <ul className={styles.list}>\n          {movies.map(movie => (\n            <li className={styles.listItem} key={movie.movie_id || movie.id}>\n              <Card\n                poster_path={movie.poster_path}\n                title={movie.title}\n                vote_average={movie.vote_average}\n                release_date={movie.release_date}\n                movie_id={movie.movie_id || movie.id}\n              />\n            </li>\n          ))}\n        </ul>\n      ) : null}\n    </div>\n  );\n}\n","import MoviesLayout from 'components/MoviesLayout/MoviesLayout';\nimport React from 'react';\nimport { useFavoritesData } from 'Store/FavoritesContext';\nimport { useAuth } from 'Store/AuthContext';\n\nexport default function FavoritesPage() {\n  const { favoritesData } = useFavoritesData();\n  const { favorites } = useAuth();\n  return (\n    <div>\n      {favorites.length > 0 ? (\n        <MoviesLayout data={favoritesData}></MoviesLayout>\n      ) : (\n        <p style={{ margin: '50px auto', width: '200px' }}>\n          No movies in your list.\n        </p>\n      )}\n    </div>\n  );\n}\n"],"names":["LoadingSpinner","_jsx","className","styles","children","ColorRing","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","Card","_ref","poster_path","title","vote_average","release_date","movie_id","navigate","useNavigate","_useSearchData","useSearchData","query","pageNumber","_useState","useState","_useState2","_slicedToArray","hovered","setHovered","_useAuth","useAuth","user","favorites","addFavorite","fetchFavorites","deleteFavorite","_useState3","_useState4","favorite","setFavorite","useEffect","isFavorite","some","fav","_fav$movie_id","toString","toggleFavorite","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","Notiflix","abrupt","uid","t0","console","error","stop","apply","arguments","_jsxs","onMouseEnter","onMouseLeave","onClick","MdFavorite","size","color","MdFavoriteBorder","src","concat","alt","FaStar","toFixed","timeout","position","clickToClose","pauseOnHover","MoviesLayout","data","_useTrendingData","useTrendingData","isLoading","hasResultsArray","Array","isArray","results","hasDirectArray","movies","length","map","movie","id","FavoritesPage","favoritesData","useFavoritesData","style","margin"],"sourceRoot":""}