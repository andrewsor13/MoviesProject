{"version":3,"file":"static/js/241.00595d65.chunk.js","mappings":"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","sources":["webpack://MoviesProject/./src/components/Profile/Profile.module.css?b512","components/Profile/Profile.jsx","pages/ProfilePage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Profile_container__-cCQ9\",\"profileContainer\":\"Profile_profileContainer__CUA1O\",\"dataContainer\":\"Profile_dataContainer__umv-m\",\"dataPassContainer\":\"Profile_dataPassContainer__eEumd\",\"editButton\":\"Profile_editButton__gWCwN\",\"element\":\"Profile_element__FW1Mb\",\"changePasswordButton\":\"Profile_changePasswordButton__B8N3B\",\"form\":\"Profile_form__tDdWd\",\"input\":\"Profile_input__MxRb6\",\"passInput\":\"Profile_passInput__xuPwF\",\"text\":\"Profile_text__tnq0+\",\"nicknameAnimation\":\"Profile_nicknameAnimation__tIOTR\",\"fadeInNickname\":\"Profile_fadeInNickname__3x4+Y\",\"nickEditContainer\":\"Profile_nickEditContainer__y+54v\",\"saveButton\":\"Profile_saveButton__5-BXx\",\"overflowContainer\":\"Profile_overflowContainer__WZQ7m\",\"passwordContainer\":\"Profile_passwordContainer__cAdV0\",\"passwordAnimation\":\"Profile_passwordAnimation__nXHpy\",\"fadeInPassword\":\"Profile_fadeInPassword__ZP1HV\",\"passwordForm\":\"Profile_passwordForm__FavEe\",\"passCheckBlock\":\"Profile_passCheckBlock__A2GoU\",\"passCheck\":\"Profile_passCheck__-4fmj\",\"valid\":\"Profile_valid__PQy1x\"};","import React, { useEffect, useState } from 'react';\nimport styles from './Profile.module.css';\nimport { useAuth } from 'Store/AuthContext';\nimport {\n  updateProfile,\n  updatePassword,\n  reauthenticateWithCredential,\n  EmailAuthProvider,\n} from 'firebase/auth';\nimport { auth } from '../../firebaseConfig';\nimport { LiaEdit } from 'react-icons/lia';\nimport Notiflix from 'notiflix';\nimport { FaCheckCircle } from 'react-icons/fa';\n\nexport default function Profile() {\n  const { user } = useAuth();\n  const [nickName, setNickName] = useState('');\n  const [oldPassword, setOldPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [nickNameCLick, setNickNameClick] = useState(false);\n  const [passwordClick, setPasswordClick] = useState(false);\n  const [width, setWidth] = useState(window.innerWidth);\n  const [check, setCheck] = useState({\n    hasUpperCase: false,\n    hasNumber: false,\n    isLongEnough: false,\n    hasSymbol: false,\n  });\n\n  const handleNickNameInput = e => {\n    setNickName(e.target.value);\n  };\n\n  const handleOldPasswordInput = e => {\n    setOldPassword(e.target.value);\n  };\n\n  const handleNewPasswordInput = e => {\n    setNewPassword(e.target.value);\n    setCheck({\n      hasUpperCase: /[A-Z]/.test(e.target.value),\n      hasNumber: /\\d/.test(e.target.value),\n      hasSymbol: /[!@#$%^&*]/.test(e.target.value),\n      isLongEnough: e.target.value.length >= 8,\n    });\n  };\n\n  const handleNickNameClick = () => {\n    setPasswordClick(false);\n    setNickNameClick(!nickNameCLick);\n    setNickName(user?.displayName ?? '');\n  };\n\n  const handlePasswordClick = () => {\n    setNickNameClick(false);\n    setPasswordClick(!passwordClick);\n  };\n\n  const handleNickNameChange = async e => {\n    e.preventDefault();\n    if (auth.currentUser && nickName.trim()) {\n      try {\n        await updateProfile(auth.currentUser, {\n          displayName: nickName.trim(),\n        });\n        Notiflix.Notify.success('Nickname updated!');\n        setNickNameClick(false);\n      } catch (error) {\n        console.error('Eroare la setarea displayName:', error);\n        Notiflix.Notify.failure('A apÄƒrut o eroare.');\n      }\n    } else {\n      Notiflix.Notify.failure(\"The nickname can't be empty!\");\n    }\n  };\n\n  const handlePasswordChange = async e => {\n    e.preventDefault();\n\n    if (!oldPassword || !newPassword) {\n      Notiflix.Notify.failure('You must complete both fields!');\n      return;\n    }\n\n    if (\n      !check.hasUpperCase ||\n      !check.hasNumber ||\n      !check.hasSymbol ||\n      !check.isLongEnough\n    ) {\n      Notiflix.Notify.failure(\n        'Password must respect the security requirements.'\n      );\n      return;\n    }\n\n    const user = auth.currentUser;\n\n    if (user) {\n      const credential = EmailAuthProvider.credential(user.email, oldPassword);\n\n      try {\n        await reauthenticateWithCredential(user, credential);\n        await updatePassword(user, newPassword);\n        Notiflix.Notify.success('Password changed succesfully!');\n        setOldPassword('');\n        setNewPassword('');\n        setPasswordClick(false);\n        setCheck({\n          hasUpperCase: false,\n          hasNumber: false,\n          isLongEnough: false,\n          hasSymbol: false,\n        });\n      } catch (error) {\n        console.error(error);\n        Notiflix.Notify.failure('Old password inccorect or another error.');\n      }\n    }\n  };\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(window.innerWidth);\n    };\n\n    window.addEventListener('resize', handleResize);\n    handleResize();\n\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.profileContainer}>\n        <div className={styles.dataContainer}>\n          <h3 className={styles.element}>Nickname:</h3>\n          <div className={styles.nickEditContainer}>\n            {!nickNameCLick ? (\n              <p className={styles.text}>{user.displayName}</p>\n            ) : (\n              <form\n                onSubmit={handleNickNameChange}\n                className={\n                  nickNameCLick\n                    ? `${styles.nicknameAnimation} ${styles.form} `\n                    : `${styles.form}`\n                }\n                name=\"Change nickname\"\n              >\n                <input\n                  className={styles.input}\n                  placeholder={user.displayName}\n                  onChange={handleNickNameInput}\n                  value={nickName}\n                  type=\"text\"\n                  name=\"Nickname\"\n                ></input>\n                <button className={styles.saveButton} type=\"submit\">\n                  Save\n                </button>\n              </form>\n            )}\n            <LiaEdit\n              onClick={handleNickNameClick}\n              className={\n                !nickNameCLick\n                  ? `${styles.editButton}`\n                  : `${styles.editButton} ${styles.nicknameAnimation}`\n              }\n              size={width < 768 ? 25 : 35}\n              color=\"#469ae8\"\n            />\n          </div>\n        </div>\n        <div className={styles.dataContainer}>\n          <h3 className={styles.element}>Email:</h3>\n          <p className={styles.text}>{user.email}</p>\n        </div>\n        <div className={styles.dataContainer}>\n          <h3 className={styles.element}>Created at:</h3>\n          <p className={styles.text}>\n            {new Date(user.metadata.creationTime).toLocaleDateString('ro-RO')}\n          </p>\n        </div>\n        <div className={styles.dataPassContainer}>\n          <button\n            className={styles.changePasswordButton}\n            onClick={handlePasswordClick}\n          >\n            Change Password\n          </button>\n          <div className={styles.overflowContainer}>\n            <div\n              className={\n                passwordClick\n                  ? `${styles.passwordAnimation}`\n                  : `${styles.passwordContainer}`\n              }\n            >\n              {passwordClick ? (\n                <form\n                  onSubmit={handlePasswordChange}\n                  className={styles.passwordForm}\n                  name=\"Change Password\"\n                >\n                  <label>Old password</label>\n                  <input\n                    className={styles.passInput}\n                    type=\"password\"\n                    placeholder=\"********\"\n                    onChange={handleOldPasswordInput}\n                    value={oldPassword}\n                    name=\"Old Password\"\n                  />\n\n                  <label>New password</label>\n                  <input\n                    className={styles.passInput}\n                    type=\"password\"\n                    placeholder=\"********\"\n                    onChange={handleNewPasswordInput}\n                    value={newPassword}\n                    name=\"New Password\"\n                  />\n\n                  <div className={styles.passCheckBlock}>\n                    <p\n                      className={`${styles.passCheck} ${\n                        check.isLongEnough ? styles.valid : null\n                      }`}\n                    >\n                      <FaCheckCircle size={10} />\n                      Contains 8 characters,\n                    </p>\n                    <p\n                      className={`${styles.passCheck} ${\n                        check.hasUpperCase ? styles.valid : null\n                      }`}\n                    >\n                      <FaCheckCircle size={10} />\n                      Contains one uppercase character.\n                    </p>\n                    <p\n                      className={`${styles.passCheck} ${\n                        check.hasNumber ? styles.valid : null\n                      }`}\n                    >\n                      <FaCheckCircle size={10} />\n                      Contains one number character.\n                    </p>\n                    <p\n                      className={`${styles.passCheck} ${\n                        check.hasSymbol ? styles.valid : null\n                      }`}\n                    >\n                      <FaCheckCircle size={10} />\n                      Contains one special character.\n                    </p>\n                  </div>\n\n                  <button className={styles.saveButton} type=\"submit\">\n                    Save\n                  </button>\n                </form>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import Profile from 'components/Profile/Profile';\nimport React from 'react';\n\nexport default function ProfilePage() {\n  return (\n    <div>\n      <Profile></Profile>\n    </div>\n  );\n}\n"],"names":["Profile","user","useAuth","_useState","useState","_useState2","_slicedToArray","nickName","setNickName","_useState3","_useState4","oldPassword","setOldPassword","_useState5","_useState6","newPassword","setNewPassword","_useState7","_useState8","nickNameCLick","setNickNameClick","_useState9","_useState10","passwordClick","setPasswordClick","_useState11","window","innerWidth","_useState12","width","setWidth","_useState13","hasUpperCase","hasNumber","isLongEnough","hasSymbol","_useState14","check","setCheck","handleNickNameChange","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","e","_context","prev","next","preventDefault","auth","trim","updateProfile","displayName","Notiflix","t0","console","error","stop","_x","apply","arguments","handlePasswordChange","_ref2","_callee2","credential","_context2","abrupt","EmailAuthProvider","email","reauthenticateWithCredential","updatePassword","_x2","useEffect","handleResize","addEventListener","removeEventListener","_jsx","className","styles","children","_jsxs","onSubmit","concat","name","placeholder","onChange","target","value","type","LiaEdit","onClick","_user$displayName","size","color","Date","metadata","creationTime","toLocaleDateString","test","length","FaCheckCircle","ProfilePage"],"sourceRoot":""}